import{D as i,Ob as c,R as s,V as l,s as o,w as n}from"./chunk-HMBV5FVV.js";var g=class a{constructor(e){this.http=e}GITHUB_API="https://api.github.com";getUserProfile(e){return this.http.get(`${this.GITHUB_API}/users/${e}`).pipe(n(t=>this.transformUser(t)),i(t=>(console.error("Error fetching GitHub user profile:",t),o(null))))}getReadmeContent(e){return this.http.get(`${this.GITHUB_API}/repos/${e}/${e}/readme`,{headers:{Accept:"application/vnd.github.v3+json"}}).pipe(n(t=>{try{let r=t.content.replace(/\s/g,""),p=new Uint8Array(atob(r).split("").map(u=>u.charCodeAt(0)));return new TextDecoder("utf-8").decode(p)}catch(r){return console.error("Error decoding README content:",r),""}}),i(t=>(console.error("Error fetching README content:",t),this.http.get(`${this.GITHUB_API}/repos/${e}/README/readme`,{headers:{Accept:"application/vnd.github.v3+json"}}).pipe(n(r=>atob(r.content.replace(/\s/g,""))),i(()=>o(""))))))}getPublicRepositories(e){return this.http.get(`${this.GITHUB_API}/users/${e}/repos?sort=updated&per_page=100`).pipe(n(t=>this.transformRepos(t)),i(t=>(console.error("Error fetching GitHub repositories:",t),o([]))))}transformUser(e){return{username:e.login,name:e.name||e.login,bio:e.bio||"",avatarUrl:e.avatar_url,location:e.location||"",blog:e.blog||"",publicRepos:e.public_repos,followers:e.followers,following:e.following,joinDate:new Date(e.created_at)}}transformRepos(e){return e.filter(t=>!t.private&&!t.fork).map(t=>({id:t.id,title:this.formatRepoName(t.name),description:t.description||"No description available",githubUrl:t.html_url,liveUrl:t.homepage,technologies:this.getTechnologies(t),stars:t.stargazers_count,forks:t.forks_count,language:t.language||"Unknown",lastUpdated:new Date(t.updated_at),status:this.getProjectStatus(t)})).sort((t,r)=>r.lastUpdated.getTime()-t.lastUpdated.getTime())}formatRepoName(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}getTechnologies(e){let t=[];return e.language&&t.push(e.language),e.topics&&e.topics.length>0&&t.push(...e.topics),t.slice(0,6)}getProjectStatus(e){if(e.archived)return"archived";let t=new Date(e.pushed_at),r=new Date;return r.setMonth(r.getMonth()-6),t<r?"maintenance":"active"}static \u0275fac=function(t){return new(t||a)(l(c))};static \u0275prov=s({token:a,factory:a.\u0275fac,providedIn:"root"})};export{g as a};
